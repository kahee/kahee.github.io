---
layout: post
title: "Swift 프로그래밍 입문 5"
date: 2019-08-29 00:00:00
img:
categories:
    - Swift
tags: [swift]
---

## 26강 프로토콜
- 특정 역할을 수행하기 위한 메서드, 프로퍼티, 이니셜라이저 등 요구사항을 정의
- 타입이 어떤 프로토콜을 채택하는 경우, 실제로 구현한 것을 준수한다고 표현

```swift
protocol  Talkable {
    var topic: String { get set }
    var  language: String { get }
    
    func talk()
    
    init(topic: String, language: String)
}

struct Person:  Talkable {
    var topic: String
    let language: String // get set 인 경우 let은 안됨
    
    // 읽기전용 프로퍼티 요구는 연산 프로퍼티로 대체가 가능
    //    var language: String { return "한국어" }
    
    // 물론 읽기, 쓰기 프로퍼티도 연산 프로퍼티로 대체할 수 있습니다
    //    var subject: String = ""
    //    var topic: String {
    //        set {
    //            self.subject = newValue
    //        }
    //        get {
    //            return self.subject
    //        }
    //    }
    
    // 메서드 요구 준수
    func talk() {
        print("\(topic)에 대해 \(language)로 말합니다")
    }
    
    // 이니셜라이저 요구 준수
    init(topic: String, language: String) {
        self.topic = topic
        self.language = language
    }
}

// 프로토콜은 다중 상속이 가능
protocol Readable {
    func read()
}

protocol Writeable {
    func write()
}

protocol ReadSpeakable: Readable {
    func speak()
}

protocol ReadWriteSpeakalbe: Readable, Writeable {
    func speak()
}

struct SomeType: ReadWriteSpeakalbe {
    func read() {
        print("read")
    }
    func write() {
        print("write")
    }
    func speak() {
        print("speak")
    }
}

//  클래스 상속과 프로토콜
class SuperClass: Readable {
    func read() {
        print("read")
    }
}
// 순서를 꼭 지켜야함
class SubClass: SuperClass, Writeable, ReadSpeakable {
    func write() {print("wirte")}
    func speak() {print("speak")}
}
let sup: SuperClass = SuperClass()
var  someAny: Any = sup
someAny is Readable
someAny is Writeable

if let someReadable: Readable = someAny as? Readable {
    someReadable.read()
}

let sub: SubClass = SubClass()
someAny =  sub
if let someReadable: Readable = someAny as? Readable {
    someReadable.read()
}

```