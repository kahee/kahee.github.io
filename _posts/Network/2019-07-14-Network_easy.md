---
layout: post
title:  "캐시"
date: 2019-07-19 00:00:00
img:
categories:
- Network
tags: [Network Basic]
---

## 후니의 쉽게쓴 시스코 네트워킹
### Part2. 네트워크와 케이블 그리고 친구들

---

1. LAN (Local Area Network)
- 어느 한정된 공간에서 네트워크를 구성한다는 의미 
- WAN (Wide Area Network): 멀리 떨어진 지역을 서로 연결하는 경우에 사용 
- LAN, WAN 둘다 이용하여 네트워킹을 함 

2. 이더넷
- 이더넷은 네트워킹의 한 방식 
- CSMA/CD 프로토콜을 사용하여 통신
    - Carrier Sense Multiple Access/Collision Detcetion 
    - **대충 알아서 눈치로 통신하자!**
    - 이더넷 환경에서 통신을 하고 싶은 PC, 서버는 먼저 네트워크상 통신이 일어나고 있는지 확인: Carrier
    - 만약 누군가가 네트워크상에서 통신을 하고 있으면(캐리어에 감지) 자기가 보낼 정보가 있어도 못 보내고 기다림 -> 통신이 끝나고 무조건 자기 데이터를 네트워크에 실어서 보냄
    - 이더넷에서 2개 이상의 PC나 서버가 동시에 네트워크상에 데이터를 시렁 보내는 경우가 발생: Multiplae Access (다중 접근)
    - 2개의 장비들이 데이터를 동시에 보내려다 충돌: Collision -> 충돌이 발생하지 않았는지를 잘 점검해야함 (Collision Detection)
    - 너무 많은 충돌이 발생하면 통신 자체가 불가능해지기도 함

3. 토큰링 
- 네트워크에서 오직 한 PC, 즉 토큰을 가진 PC만이 네트워크에 데이터를 실어 보낼 수 있음 
- 데이터를 다 보내면 옆 PC에 전달, 만약 전송할 데이터가 없다면 토근을 다시 옆 PC에 전달 
- 장점
    - 이더넷처럼 충돌이 발생하지 않음
    - 네트워크에 대한 성능을 미리 예측하기 쉬움 
- 단점
    - 지금 바로 보내야할 데이터가 있고, 다른 PC들은 보낼 데이터가 하나도 없다고 하더라도 차례가 올때까지 계속 기다려야함 


4. UTP 케이블
- TP: Twisted-pair 
    - UTP(Unshielded)
    - STP(Shielded): 좀 비싸고 토큰링쪽에 자주 사용함 
    - [UTP 참고](https://brunch.co.kr/@mascott/17)

5. 케이블
- 베이스밴드는 디지털 방식, 브로드밴드는 아날로그 방식

6. MAC Address
- 통신을 위해서 서로 구분한 주소 
- 48bit 주소 
- 앞쪽 6개의 16진수: OUI(Organizational Unique Identifier) 생산자를 나타내는 코드 
- 뒤쪽 나머지 자리수: 생산자가 분배하는 Host Identifier = 시리얼 넘버
- 예시1: PC Y가 PC Z와 통신 (자기가 속한 네크워크끼리의 통신)
    - PC Y 는 자기가 속한 네트워크 있는 모든 PC에 메시니를 보냄:브로드캐스트 
- 예시2: PC Y가 PC Z와 통신 (다른 네트워크끼리 통신)
    - 라우터를 넘어서 다른 네트워크에 있는 경우 라우터에 PC Y에게 라우터 자신의 MAC 주소를 보내줌 
    - PC Y: 정보를 보낼때 받는 MAC 주소를 라우터의 MAC 주소로 변경하여 보냄, PC Z의 IP 주소 -> 라우터 -> PC Z: 전송 받음

7. 유니캐스트, 브로드캐스트, 멀티캐스트
- Unicast
    - 네트워크상에서 가장 많이 사용되는 트래픽
    - 전송되는 프레임 안에 항상 출발지와 목적지의 주소(MAC 주소)
    - 정확하게 받는 PC의 주소를 프레임 안에 넣는데 이때, PC가 하나여야함
    - PC가 유니캐스트 프레임을 뿌리면, 로컬 이더넷의 기본 성격이 붙어있는 모든 PC들에게 정보를 뿌리는 방식, 로컬 네트워크상에 있는 모든 PC 들이 일단 이 프레임을 받아들여 랜카드에서 자신의 MAC 주소와 비교 -> 만약 MAC 주소가 다른 경우는 프레임을 버림
    - 따라서 CPU까지는 영향을 주지 않아서 성능 저하되는 일은 발생하지 않음 
- Broadcast 
    - 로컬 랜에 붙어 있는 모든 네트워크 장비들에게 보내는 통신
    - 로컬랜: 라우터에 의해서 구분된 공간 
    - 자신이 받기 싫어도 무조건 프레임을 받는 것 
    - 브로드캐스의 주소: FFFF.FFFF.FFFF
    - 자신의 MAC 주소와 같지않지만 브로드캐스트 패킷을 CPU에 보냄 -> CPU가 이 패킷을 처리함 
    - 문제점
        - 전체 노드로 전송되기 때문에 트래픽 증가
        - 모든 랜카드가 이 패킷을 CPU로 전송하기 때문에 CPU 성능에 문제를 발생시킬 수 있음 
    - 발생하는 경우 
        - 처음 두 PC 간에 통신을 하는 경우 상태편의 MAC 주소를 모를 때
        - ARP(Address Resoultuion Protocol): 상대의 MAC 주소를 알아내기 위해 하는 동작
        - 라우터끼리 정보 교환 
        - 라우터를 서버들이 자신이 어떤 서비스를 제공한다는 것을 모든 클라이언트들에게 알릴 때
- Multicast
    - 200명의 사용자중 150명에게만 같은 정보를 동시 보내야하는 상황
        - 유니캐스트를 사용하여 150명의 주소로 하나씩 전부 보내는 방법: 서버쪽에서 150번이나 반복해서 보내야 하기 때문에 일이 많아지고 네트워크상에서도 트래픽 가중 문제가 있음 
        - 브로드캐스트: 한번에 모든 사람에게 보내나 이 데이터를 받지 않아도 되는 50명에게도 전달됨
    - 보내고자 하는 그룹 멤버들에게만 한번에 보낼 수 있기 방법이 멀티캐스트
    - 스위치나, 라우터가 이 멀티캐스트 기능을 꼭 지원해줘야함 
    - IP 주소의 경우 클래스 D사용

8. OSI 7 Layer
- OSI(Open Systems Inerconnecdtion)
- Application Layer
- Presentation Layer
- Session Layer
- Transport Layer
    - 컨트롤과 에러 복구 기능- 에러 복구를 위해 패킷을 재전송하거나 플로를 조절하여 데이터가 정삭적으로 전송될 수 있도록 하는 역할
    - TCP, UDP
- Network Layer
    - 데이터를 목적기까지 가장 안전하고 빠르게 전달 -> 라우팅
    - 경로를 선택, 주소를 정하고 경로에 따라 패킷을 전달해주는 계층 
    - 장비: 라우터, Layer 3 스위치(라우터 기능을 수행하는 스위치)
- Data Link Layer 
    - 송수신되는 정보의 오류와 흐름을 관리 
    - 안전한 정보의 전달을 수행할 수 있도록 도와줌/ 오류도 찾고 재전송도 함 
    - MAC 주소로 통신 가능
    - 데이터 링크 계층에서 전송되는 단위 **프레임**
    - 장비: 브릿지, 스위치
- Physical Layer 
    - 맨아래 단계로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송
    - 1,0 으로 나타내는 즉 전기적으로 on, off 상태 
    - 단지 데이터를 전달할 뿐 데이터가 무언인지, 에러확인 안함
    - 장비: 케이블, 리피터, 허브 
- 헤더: 각 계층별로 관리하는 여러가지 관리 사항들 

9. 프로토콜 
- 컴퓨터끼리 서로 통신하기 위해 꼭 필요한 서로간의 통신 규약/통신 방식
- 프로토콜이 같은 것끼리만 통신함 
